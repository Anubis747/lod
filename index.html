<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Live or Dead</title>

  <!-- Content Security Policy -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 'unsafe-inline' https://api.allorigins.win https://pagead2.googlesyndication.com;
    connect-src https://api.allorigins.win;
    style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com;
    font-src 'self' https://cdnjs.cloudflare.com;
  ">

  <!-- FontAwesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

  <!-- Google AdSense top-level script -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9273959048665563" crossorigin="anonymous"></script>

  <style>
    :root { --primary: #007BFF; --up: #28a745; --down: #dc3545; --bg: #f8f9fa; --text: #212529; }
    * { box-sizing: border-box; }
    body { font-family: Arial, sans-serif; background: var(--bg); color: var(--text); margin:0; padding:1rem; display:flex; flex-direction:column; align-items:center; }
    h1 { margin-bottom:0.5rem; }
    #hint { margin:0 0 1rem; font-style:italic; color:#6c757d; }
    select, input, button { font-size:1rem; padding:0.5rem; margin:0.5rem 0; }
    button { background: var(--primary); border:none; color:#fff; border-radius:4px; cursor:pointer; }
    button:disabled { opacity:0.6; cursor:not-allowed; }
    .result-card { margin-top:1rem; padding:1rem; border-radius:6px; color:#fff; display:none; align-items:center; justify-content:center; gap:0.5rem; width:100%; max-width:400px; animation:fadeIn 0.3s ease-in-out; }
    .up { background:var(--up); }
    .down { background:var(--down); }
    @keyframes fadeIn { from{opacity:0; transform:translateY(-10px);} to{opacity:1; transform:translateY(0);} }
    .ad-slot { width:100%; max-width:400px; margin:1rem 0; height:90px; background:#e9ecef; display:flex; align-items:center; justify-content:center; color:#6c757d; font-size:0.9rem; border:1px dashed #6c757d; }
  </style>
</head>
<body>

  <div class="ad-slot">
    <!-- Google AdSense Top Banner -->
    <ins class="adsbygoogle"
         style="display:block; max-width:400px; margin:0 auto;"
         data-ad-client="ca-pub-9273959048665563"
         data-ad-slot="1111111111"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>

  <h1>Live or Dead</h1>
  <p id="hint">Type a URL below to check if it is up or down.</p>

  <select id="langSelect">
    <option value="en">English</option>
    <option value="pt">Português</option>
    <option value="es">Español</option>
    <option value="fr">Français</option>
  </select>

  <input id="siteUrl" placeholder="e.g. example.com" style="width:100%; max-width:400px;" />
  <button id="checkBtn">Check</button>

  <div id="result" class="result-card">
    <i id="icon" class="fa-solid fa-spinner fa-spin"></i>
    <span id="msg">Checking…</span>
  </div>

  <div class="ad-slot">
    <!-- Google AdSense Inline Ad -->
    <ins class="adsbygoogle"
         style="display:block; max-width:400px; margin:0 auto;"
         data-ad-client="ca-pub-9273959048665563"
         data-ad-slot="2222222222"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>

  <div class="ad-slot">
    <!-- Google AdSense Footer Ad -->
    <ins class="adsbygoogle"
         style="display:block; max-width:400px; margin:0 auto;"
         data-ad-client="ca-pub-9273959048665563"
         data-ad-slot="3333333333"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const data = {
        en: { hint:'Type a URL below to check if it is up or down.', check:'Check', invalid:'Invalid hostname.', placeholder:'e.g. example.com', up:'is UP', down:'is DOWN', network:'Network error.' },
        pt: { hint:'Digite uma URL abaixo para verificar se ela está online ou offline.', check:'Checar', invalid:'Host inválido.', placeholder:'ex: exemplo.com', up:'está UP', down:'está DOWN', network:'Erro de rede.' },
        es: { hint:'Escriba una URL abajo para verificar si está en línea o sin conexión.', check:'Comprobar', invalid:'Host inválido.', placeholder:'ej: ejemplo.com', up:'está UP', down:'está DOWN', network:'Error de red.' },
        fr: { hint:'Entrez une URL ci-dessous para verificar si ela está em linha ou hors ligne.', check:'Vérifier', invalid:'Nom d’hôte não válido.', placeholder:'ex: exemplo.com', up:'est UP', down:'est DOWN', network:'Erreur réseau.' }
      };

      const sel = document.getElementById('langSelect');
      const btn = document.getElementById('checkBtn');
      const input = document.getElementById('siteUrl');
      const hintEl = document.getElementById('hint');
      const icon = document.getElementById('icon');
      const msg = document.getElementById('msg');
      const card = document.getElementById('result');

      let currentLang = navigator.language.startsWith('pt') ? 'pt'
                      : navigator.language.startsWith('es') ? 'es'
                      : navigator.language.startsWith('fr') ? 'fr'
                      : 'en';
      sel.value = currentLang;

      function updateUI() {
        const cfg = data[currentLang];
        hintEl.textContent = cfg.hint;
        btn.textContent = cfg.check;
        input.placeholder = cfg.placeholder;
        msg.textContent = cfg.check + '…';
      }

      function isValidHost(h) {
        return /^[a-zA-Z0-9\.\-]+(:\d+)?$/.test(h);
      }

      sel.addEventListener('change', () => { currentLang = sel.value; updateUI(); });
      updateUI();

      let busy = false;
      btn.addEventListener('click', async () => {
        if (busy) return;
        busy = true;
        setTimeout(() => busy = false, 2000);

        const cfg = data[currentLang];
        const raw = input.value.trim();
        if (!isValidHost(raw)) { alert(cfg.invalid); return; }
        const site = raw.startsWith('http') ? raw : 'https://' + raw;

        card.style.display = 'flex';
        card.classList.remove('up','down');
        icon.className = 'fa-solid fa-spinner fa-spin';
        msg.textContent = cfg.check + '…';

        const proxyUrl = 'https://api.allorigins.win/raw?url=' + encodeURIComponent('https://isitup.org/' + site + '.json');
        try {
          const res = await fetch(proxyUrl);
          const d = await res.json();
          if (d.status_code === 1) {
            card.classList.add('up');
            icon.className = 'fa-solid fa-circle-check';
            msg.textContent = site + ' ' + cfg.up + ' (' + Math.round(d.response_time) + ' ms)';
          } else {
            card.classList.add('down');
            icon.className = 'fa-solid fa-circle-xmark';
            msg.textContent = site + ' ' + cfg.down;
          }
        } catch (e) {
          card.classList.add('down');
          icon.className = 'fa-solid fa-triangle-exclamation';
          msg.textContent = cfg.network;
        }
      });
    });
  </script>
</body>
</html>
